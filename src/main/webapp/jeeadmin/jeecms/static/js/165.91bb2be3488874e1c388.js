webpackJsonp([165],{Koyt:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i("HzJ8"),a=i.n(r),o=i("5HJ5"),l=(i("2sCs"),{mixins:[o.a],methods:{checkP:function(e){/^([1-9]\d{0,3}|0)$/.test(e)||this.open()},open:function(){var e=this;this.$alert("排列顺序不能为空且不能超过4位数","提示",{confirmButtonText:"确定",callback:function(t){e.initTableData(e.$api.workflowList,e.params)}})},getPriority:function(){var e=[],t=!0,i=!1,r=void 0;try{for(var o,l=a()(this.checkedList);!(t=(o=l.next()).done);t=!0){var n=o.value;e.push(n.priority)}}catch(e){i=!0,r=e}finally{try{!t&&l.return&&l.return()}finally{if(i)throw r}}return e.join(",")}},created:function(){this.initTableData(this.$api.workflowList,this.params)}}),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"cms-body"},[i("div",{staticClass:"cms-list-header flex-between"},[i("el-button",{directives:[{name:"perms",rawName:"v-perms",value:"/workflow/save",expression:"'/workflow/save'"}],attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){e.routerLink("/workflow/save","save",0)}}},[e._v("添加")])],1),e._v(" "),i("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:""},on:{"selection-change":e.checkIds}},[i("el-table-column",{attrs:{type:"selection",width:"65",align:"right"}}),e._v(" "),i("el-table-column",{attrs:{prop:"id",label:"ID",width:"50",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{prop:"name",label:"名称",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{width:"100",label:"排列顺序",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return i("div",{},[i("el-input",{staticClass:"w50",attrs:{type:"number"},on:{blur:function(i){e.checkP(t.row.priority)}},model:{value:t.row.priority,callback:function(i){e.$set(t.row,"priority",i)},expression:"scope.row.priority"}})],1)}}])}),e._v(" "),i("el-table-column",{attrs:{width:"300",label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return i("div",{},[i("cms-button",{directives:[{name:"perms",rawName:"v-perms",value:"/workflow/get",expression:"'/workflow/get'"}],attrs:{type:"edit"},nativeOn:{click:function(i){e.routerLink("/workflow/update","update",t.row.id)}}}),e._v(" "),i("cms-button",{directives:[{name:"perms",rawName:"v-perms",value:"/workflow/save",expression:"'/workflow/save'"}],attrs:{type:"delete"},nativeOn:{click:function(i){e.deleteBatch(e.$api.workflowDelete,t.row.id)}}})],1)}}])})],1),e._v(" "),i("div",{staticClass:"cms-list-footer"},[i("div",{staticClass:"cms-left"},[i("el-button",{directives:[{name:"perms",rawName:"v-perms",value:"/workflow/delete",expression:"'/workflow/delete'"}],attrs:{disabled:e.disabled},on:{click:function(t){e.deleteBatch(e.$api.workflowDelete,e.ids)}}},[e._v("批量删除")]),e._v(" "),i("el-button",{directives:[{name:"perms",rawName:"v-perms",value:"/workflow/priority",expression:"'/workflow/priority'"}],attrs:{disabled:e.disabled},on:{click:function(t){e.priorityBatch(e.$api.workflowPriority,e.ids,e.getPriority())}}},[e._v("保存排序")])],1),e._v(" "),i("cms-pagination",{attrs:{total:e.total},on:{change:e.getPages}})],1)],1)},s=[],c={render:n,staticRenderFns:s},d=c,u=i("Z0/y"),p=u(l,d,!1,null,null,null);t.default=p.exports}});